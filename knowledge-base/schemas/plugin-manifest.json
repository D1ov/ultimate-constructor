{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Plugin Manifest Schema",
  "description": "Schema for plugin.json manifest files in Claude Code plugins",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Plugin identifier using lowercase letters, numbers, and hyphens",
      "pattern": "^[a-z0-9-]+$"
    },
    "version": {
      "type": "string",
      "description": "Semantic version (e.g., 1.0.0)",
      "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.]+)?$"
    },
    "description": {
      "type": "string",
      "description": "Brief description of plugin functionality",
      "maxLength": 500
    },
    "author": {
      "type": "object",
      "description": "Plugin author information",
      "properties": {
        "name": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "url": {"type": "string", "format": "uri"}
      },
      "required": ["name"]
    },
    "keywords": {
      "type": "array",
      "description": "Search keywords for marketplace discovery",
      "items": {"type": "string"},
      "maxItems": 10
    },
    "commands": {
      "type": "string",
      "description": "Path to commands directory (relative to plugin root)",
      "default": "./commands/"
    },
    "agents": {
      "type": "string",
      "description": "Path to agents directory (relative to plugin root)",
      "default": "./agents/"
    },
    "skills": {
      "type": "string",
      "description": "Path to skills directory (relative to plugin root)",
      "default": "./skills/"
    },
    "hooks": {
      "type": "string",
      "description": "Path to hooks configuration file (relative to plugin root)",
      "default": "./hooks/hooks.json"
    },
    "mcp": {
      "type": "string",
      "description": "Path to MCP configuration file",
      "default": "./.mcp.json"
    },
    "repository": {
      "type": "string",
      "description": "Git repository URL",
      "format": "uri"
    },
    "homepage": {
      "type": "string",
      "description": "Plugin homepage URL",
      "format": "uri"
    },
    "license": {
      "type": "string",
      "description": "SPDX license identifier",
      "examples": ["MIT", "Apache-2.0", "GPL-3.0"]
    },
    "engines": {
      "type": "object",
      "description": "Claude Code version requirements",
      "properties": {
        "claude-code": {
          "type": "string",
          "description": "Required Claude Code version range",
          "examples": [">=1.0.0", "^2.0.0"]
        }
      }
    },
    "dependencies": {
      "type": "object",
      "description": "Other plugins this plugin depends on",
      "additionalProperties": {"type": "string"}
    }
  },
  "required": ["name", "version", "description"],
  "additionalProperties": true,
  "examples": [
    {
      "name": "my-plugin",
      "version": "1.0.0",
      "description": "Example plugin for Claude Code",
      "author": {"name": "Developer"},
      "keywords": ["example", "demo"],
      "commands": "./commands/",
      "agents": "./agents/",
      "skills": "./skills/",
      "hooks": "./hooks/hooks.json"
    }
  ]
}
