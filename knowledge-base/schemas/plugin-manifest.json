{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Plugin Manifest Schema",
  "description": "Schema for plugin.json manifest files in Claude Code plugins. Based on official docs: https://code.claude.com/docs/en/plugins-reference",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Unique identifier (kebab-case, no spaces)",
      "pattern": "^[a-z0-9-]+$"
    },
    "version": {
      "type": "string",
      "description": "Semantic version (e.g., 1.0.0)",
      "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.]+)?$"
    },
    "description": {
      "type": "string",
      "description": "Brief explanation of plugin purpose",
      "maxLength": 500
    },
    "author": {
      "type": "object",
      "description": "Author information",
      "properties": {
        "name": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "url": {"type": "string", "format": "uri"}
      },
      "required": ["name"]
    },
    "homepage": {
      "type": "string",
      "description": "Documentation URL",
      "format": "uri"
    },
    "repository": {
      "type": "string",
      "description": "Source code URL",
      "format": "uri"
    },
    "license": {
      "type": "string",
      "description": "SPDX license identifier (MIT, Apache-2.0, etc.)",
      "examples": ["MIT", "Apache-2.0", "GPL-3.0"]
    },
    "keywords": {
      "type": "array",
      "description": "Discovery tags",
      "items": {"type": "string"},
      "maxItems": 10
    },
    "commands": {
      "oneOf": [
        {"type": "string"},
        {"type": "array", "items": {"type": "string"}}
      ],
      "description": "Additional command files/directories. Can be string path or array of paths.",
      "examples": ["./commands/", ["./custom/cmd1.md", "./custom/cmd2.md"]]
    },
    "agents": {
      "oneOf": [
        {"type": "string"},
        {"type": "array", "items": {"type": "string"}}
      ],
      "description": "Additional agent files. Can be string path to directory or array of file paths.",
      "examples": ["./agents/", ["./agents/reviewer.md", "./agents/tester.md"]]
    },
    "skills": {
      "oneOf": [
        {"type": "string"},
        {"type": "array", "items": {"type": "string"}}
      ],
      "description": "Additional skill directories. Can be string path or array of paths.",
      "examples": ["./skills/", ["./skills/pdf-processor/", "./skills/code-reviewer/"]]
    },
    "hooks": {
      "oneOf": [
        {"type": "string"},
        {"type": "object"}
      ],
      "description": "Hook config path or inline config",
      "examples": ["./hooks/hooks.json", {"hooks": {"PostToolUse": []}}]
    },
    "mcpServers": {
      "oneOf": [
        {"type": "string"},
        {"type": "object"}
      ],
      "description": "MCP config path or inline config",
      "examples": ["./.mcp.json", {"mcpServers": {}}]
    },
    "lspServers": {
      "oneOf": [
        {"type": "string"},
        {"type": "object"}
      ],
      "description": "LSP config path or inline config for code intelligence",
      "examples": ["./.lsp.json"]
    },
    "outputStyles": {
      "oneOf": [
        {"type": "string"},
        {"type": "array", "items": {"type": "string"}}
      ],
      "description": "Additional output style files/directories"
    },
    "engines": {
      "type": "object",
      "description": "Claude Code version requirements",
      "properties": {
        "claude-code": {
          "type": "string",
          "description": "Required Claude Code version range"
        }
      }
    },
    "dependencies": {
      "type": "object",
      "description": "Other plugins this plugin depends on",
      "additionalProperties": {"type": "string"}
    }
  },
  "required": ["name"],
  "additionalProperties": true,
  "examples": [
    {
      "name": "plugin-name",
      "version": "1.2.0",
      "description": "Brief plugin description",
      "author": {
        "name": "Author Name",
        "email": "author@example.com",
        "url": "https://github.com/author"
      },
      "homepage": "https://docs.example.com/plugin",
      "repository": "https://github.com/author/plugin",
      "license": "MIT",
      "keywords": ["keyword1", "keyword2"],
      "commands": ["./custom/commands/special.md"],
      "agents": "./custom/agents/",
      "skills": "./custom/skills/",
      "hooks": "./config/hooks.json",
      "mcpServers": "./mcp-config.json",
      "lspServers": "./.lsp.json"
    }
  ]
}
