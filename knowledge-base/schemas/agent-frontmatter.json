{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Agent Frontmatter Schema",
  "description": "Schema for agent markdown YAML frontmatter in Claude Code. Based on official docs: https://code.claude.com/docs/en/plugins-reference",
  "type": "object",
  "properties": {
    "description": {
      "type": "string",
      "description": "What this agent specializes in. When Claude should delegate to this subagent. Include 'use proactively' for automatic invocation."
    },
    "capabilities": {
      "type": "array",
      "description": "List of specific capabilities this agent has",
      "items": {"type": "string"},
      "examples": [["task1", "task2", "task3"], ["code-review", "security-analysis"]]
    },
    "tools": {
      "type": "string",
      "description": "Comma-separated list of tools. Omit entirely to inherit ALL tools including MCP.",
      "examples": ["Read, Grep, Glob, Bash", "Read, Write, Edit, Glob, Grep"]
    },
    "disallowedTools": {
      "type": "string",
      "description": "Tools to deny, removed from inherited or specified list"
    },
    "model": {
      "type": "string",
      "description": "Model to use: sonnet, opus, haiku, or inherit",
      "enum": ["sonnet", "opus", "haiku", "inherit"],
      "default": "inherit"
    },
    "permissionMode": {
      "type": "string",
      "description": "Permission mode for the subagent",
      "enum": ["default", "acceptEdits", "dontAsk", "bypassPermissions", "plan"],
      "default": "default"
    },
    "skills": {
      "type": "string",
      "description": "Comma-separated skills to auto-load. Subagents don't inherit parent skills.",
      "examples": ["project-workflow", "api-conventions, error-handling-patterns"]
    },
    "hooks": {
      "type": "object",
      "description": "Lifecycle hooks scoped to this subagent",
      "properties": {
        "PreToolUse": {"type": "array"},
        "PostToolUse": {"type": "array"},
        "Stop": {"type": "array"}
      }
    },
    "color": {
      "type": "string",
      "description": "Background color for UI identification",
      "examples": ["blue", "purple", "green", "orange", "red", "cyan", "magenta", "yellow"]
    }
  },
  "required": ["description"],
  "additionalProperties": true,
  "examples": [
    {
      "description": "What this agent specializes in",
      "capabilities": ["task1", "task2", "task3"]
    },
    {
      "description": "Expert code reviewer. Use proactively after code changes.",
      "tools": "Read, Grep, Glob, Bash",
      "model": "sonnet",
      "capabilities": ["code-review", "security-analysis"]
    }
  ]
}
